<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Widget Builder: Preview</title>
    <!-- CSS only -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
</head>

<body>
    <div class="App" style="background-color: #DDDDDD">
        <nav class="navbar bg-dark" style="background: black!important;
        height: 50px">
            <div class="container-fluid">
                <span class="navbar-brand mb-0 h1 text-white">
                    <i class="fa-solid fa-code pe-2 text-white"></i>
                    Widget Builder
                </span>
                <a href='http://localhost:3000/'>Designer Mode</a>
            </div>
        </nav>
        <div class='d-flex'>
            <div style="height: calc(100vh - 50px)"></div>
            <div class='d-flex flex-column justify-content-between' style='width: 100%'>
                <div class='container-fluid p-3'>
                    <div class='row'>
                        <div class='col'>
                            <h2>Preview: Content Block Widget</h2>
                            <noscript>You need to enable JavaScript to run this app.</noscript>
                            <p>{{firstName}} {{lastName}} is a {{nickName}}!</p>
                            <div id="root"></div>
                        </div>
                    </div>
                </div>
                <div class='p-1 d-flex justify-content-center'>
                    <small style='font-size: .75rem;'>Copyright 2023 Widget Builder</small>
                </div>
            </div>
        </div>
    </div>
    <script src="https://kit.fontawesome.com/bc8edc6f62.js" crossorigin="anonymous"></script>

    <!--Widget Logic-->
    <script src="/dist/scrwidget.v1.bundle.js"></script>
    <script>

        //start widget instance
        const ContentBlockWidget = SCRWidget.initContentBlock({
            selector: '#root',
            props: {
                loading: true,
                error: null,
                type: 'html',
                content: ``,
                bindData: {}
            }
        });

        function updateProps() {
            ContentBlockWidget.setProps({
                content: `
                    <div class='mt-3 p-3' style='border: 1px solid grey; width: 100%; border-radius: .25rem;'>
                        <h3>{{firstName}} {{lastName}} is a {{nickName}}!</h3>
                    </div>
                `,
                bindData: {
                    firstName: 'Chuck',
                    lastName: 'Noris',
                    nickName: 'Cowboy Ninja'
                }
            });
        }

    </script>
    <!--END Widget Logic-->

</body>

</html>